"use strict";(self.webpackChunk_name_=self.webpackChunk_name_||[]).push([[139],{1429:(t,e,a)=>{a.d(e,{Z:()=>i});var s=a(3207);const i=class extends s.Z{constructor(t){super(),this.value=t}clone(){const t=new this.constructor(this.value);return super.cloneVariables(t),t}}},8200:(t,e,a)=>{a.d(e,{Z:()=>i});var s=a(3207);const i=class extends s.Z{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";super(),this.value=t}clone(){const t=(new this.constructor).set(this.value);return super.cloneVariables(t),t}set(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.value=String(t),this}}},6270:(t,e,a)=>{a.d(e,{Z:()=>n});var s=a(6793),i=a(9913);function o(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}const n=class extends i.Z{constructor(){super(...arguments),o(this,"keywords",new Set),o(this,"modifiers",[])}clearModifiers(){this.modifiers.length=0}addModifiers(t){t.forEach((t=>this.addModifier(this.modifiers,t))),this.modifiers=this.modifiers.filter((t=>Math.random()<=t.state.chance)),this.modifiers.forEach((t=>{t.state.force.forEach((t=>{this.modifiers=this.modifiers.filter((e=>e.constructor!==t.constructor)),this.addModifier(this.modifiers,t).state.chance=1}))})),this.modifiers.forEach((t=>{t.activate&&t.activate(this)}))}addModifier(t,e){let a;if(e instanceof s.Z)a=e;else if(e instanceof Array){let t=e[0];t instanceof Array&&(t=t[Math.floor(Math.random()*t.length)]),a=new t(e[1])}else a=new e;return t.push(a),a}addKeyword(t){this.keywords.add(t)}removeKeyword(t){this.keywords.delete(t)}removeKeywords(){this.keywords.clear()}hasModifier(t){return this.modifiers.find((e=>e instanceof t))}applyModifiers(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>!0;this.modifiers.filter(t).forEach((t=>{t.ignore(this)||t.modify(this)}))}create(){}}},6793:(t,e,a)=>{a.d(e,{Z:()=>i});var s=a(328);const i=class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var e,a,i;e=this,a="state",i=new s.Z({chance:1,force:[],forcedModifiers:[],saved:null}),a in e?Object.defineProperty(e,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[a]=i,Object.assign(this.state,t)}activate(t){}modify(t){}ignore(){return!1}}},328:(t,e,a)=>{a.d(e,{Z:()=>o});var s=a(3207),i=a(9913);const o=class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t&&Object.keys(t).forEach((e=>{this[e]=t[e]}))}clone(){const t=new this.constructor;return Object.keys(this).forEach((e=>{const a=this[e];a instanceof this.constructor?t[e]=a.clone():a instanceof i.Z?(t[e]=new a.constructor,t[e].state=a.state.clone()):a instanceof s.Z?t[e]=a.clone():t[e]=a})),t}copyAllFrom(t){return Object.keys(t).forEach((e=>{const a=t[e];a instanceof this.constructor?this[e].copyAllFrom(a):a instanceof i.Z?this[e].state.copyAllFrom(a.state):a instanceof s.Z?this[e].set(a.value):this[e]=a})),this}}},9913:(t,e,a)=>{a.d(e,{Z:()=>i});var s=a(328);const i=class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var e,a,i;e=this,a="state",i=new s.Z,a in e?Object.defineProperty(e,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[a]=i,Object.assign(this.state,t)}clone(){return new this.constructor(this.state.clone())}}},6139:(t,e,a)=>{a.d(e,{g:()=>C,Z:()=>z});var s=a(328),i=a(6270),o=a(6525),n=a(2247),r=a(9955),h=a(9732);const l=class extends s.Z{constructor(){super({color:"#000",hue:new n.Z(0,1).setOrder(0).setLabel("hue").enableInteraction(),saturation:new n.Z(0,1).setOrder(1).setLabel("saturation").enableInteraction(),value:new n.Z(0,1).setOrder(2).setLabel("brightness").enableInteraction(),gradient:new s.Z({active:(new o.Z).enableInteraction(),range:new n.Z(0,1).randomizeBetween(.35,.65).setLabel("strength").setOrder(1).enableInteraction(),style:new h.Z([0,1,2,3]).randomize().enableInteraction().setOrder(2).setLabel("style",["light","deep","rainbow","intense"]),type:new h.Z([0,1]).setLabel("type",["linear","radial"]).setOrder(0).randomize().enableInteraction(),radius:new n.Z(0,1).randomizeBetweenOptions([.75,1]).setLabel("size").setOrder(4).enableInteraction(),reverse:new o.Z,angle:new r.Z(0,360,{interval:5}).randomizeBetweenOptions([225,270,315]).setRealValueOnLabel().setLabel("rotation").setOrder(3).enableInteraction()})})}};var d=a(6793),c=a(6413);const u=class extends d.Z{constructor(t){super(Object.assign({randomValue:new n.Z(0,1).randomize(),randomBool:(new o.Z).randomize()},t))}activate(t){let e=[0,1,2,3,4,5,6,7],a=[24,12,4,4,8,4,6,6];"black"===t.state.hue.value&&(e=[7],a=[1]),t.state.colorScheme||(t.state.colorScheme=new h.Z(e).weightedRandomize(a).ignoreOnSave())}modify(t){if(t.state.colorScheme&&(this.state.randomValue.set(.5),this.state.randomBool.set(!1)),t.savedColorScheme)return void Object.keys(t.savedColorScheme).forEach((e=>{const a=t.savedColorScheme[e],s=c.Z.hex2hsv(a),i=t.state[e];i.hue.set(s[0]),i.saturation.set(s[1]),i.value.set(s[2]),i.color=a,t.state.scheme[e].set(a)}));const e=t.state.hue.value;let a=e,s=null,i=null,o=null,n=null,r=null,h=null,l=null,d=null;switch(t.state.colorScheme.value){case 0:a=this.constrain(this.add(e,30+150*this.state.randomValue.value)),s=[a,5,95],i=[e,85,60],o=[a,10,30],l="#fff",n=o.slice(),r=l;break;case 1:i=[e,70,55],o=c.Z.hcl2derivative(i,[45+30*this.state.randomValue.value,-10,20],1),s=[o[0],2,90],l="#fff",n=o.slice(),r=l;break;case 2:s=[e,65,80],i=c.Z.hcl2derivative(s,[60+60*this.state.randomValue.value,-45,95],1),o=i.slice(),l=c.Z.hcl2derivative(s,[-60*this.state.randomValue.value-60,-50,-65],1),n=o.slice(),r=l.slice();break;case 3:i=[e,80,70],s=c.Z.hcl2derivative(i,[-30-60*this.state.randomValue.value,-140,95],1),o=c.Z.hcl2derivative(i,[-30-60*this.state.randomValue.value,0,-95],1),l=o.slice(),n=o.slice(),r=l.slice();break;case 4:s=[e,80,60],i="#fff",o="#fff",l=c.Z.hcl2derivative(s,[30+30*this.state.randomValue.value,-15,40],1),n=l.slice(),r=i;break;case 5:i=[e,85,70],s=c.Z.hcl2derivative(i,[60+60*this.state.randomValue.value,-60,85],1),o=c.Z.hcl2derivative(i,[-30-30*this.state.randomValue.value,-65,-35],1),l=o.slice(),n=o.slice(),r=l.slice();break;case 6:s=[e,80,65],i=c.Z.hcl2derivative(s,[30+90*this.state.randomValue.value,-70,75],1),o=c.Z.hcl2derivative(s,[-15-45*this.state.randomValue.value,-35,-75],1),l=o.slice(),n=o.slice(),r=l.slice();break;case 7:const t=Math.random()<.5?["#000","#fff"]:["#fff","#000"];s=t[0],i=t[1],o=t[1],n=t[1],r=t[0],d=t[1],h=t[1],l=t[0]}h||(h=o),d||(d=this.state.randomValue.value<.5?i:o),n||(n=o),r||(r=s),t.setColor("background",s),t.setColor("symbol",i),t.setColor("name",o),t.setColor("nameShadow",n),t.setColor("nameWithShadow",r),t.setColor("symbolContent",l),t.setColor("divider",h),t.setColor("slogan",d)}add(t,e){return!0===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)?t+e:t+(this.state.randomBool.value?e:360-e)}constrain(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:360,a=t;for(;a>=e;)a-=e;return a}};var v=a(1429);const m=class extends d.Z{constructor(){var t,e;super(...arguments),e=[16,1],(t="weights")in this?Object.defineProperty(this,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):this[t]=e}activate(t){const e=Object.keys(this.weights);t.state.saved&&void 0!==t.state.saved.variation?t.state.variation=new v.Z(t.state.saved.variation):t.state.variation=new h.Z(e).weightedRandomize(this.weights)}modify(t){1===Number(t.state.variation.value)&&(this.assign(t.state,"nameShadow","background"),this.assign(t.state,"nameWithShadow","symbol"),this.assign(t.state,"name","background"),this.assign(t.state,"slogan","background"),this.assign(t.state,"background","symbol"),this.assign(t.state,"symbol","name"),this.assign(t.state,"divider","name"),this.assign(t.state,"symbolContent","background"))}assign(t,e,a){const s=t[e],i=t[a];s.color=i.color;const o=c.Z.hex2hsv(s.color);s.hue.set(o[0]),s.saturation.set(o[1]),s.value.set(o[2]),t.scheme[e].set(s.color)}};var g=a(6817),f=a(8200);const b=class extends d.Z{modify(t){const e=[t.state.background,t.state.symbol];if(t.state.saved)return;const a=c.Z.hex2hsv(t.state.background.color),s=c.Z.hex2hsv(t.state.symbol.color);if(s[2]>.95&&s[1]<.05&&a[2]<.05){if(Math.random()<.5)return;const e=t.state.symbol;let a=null;switch(new h.Z([0,1]).weightedRandomize([3,1]).value){case 0:a=[70+25*(Math.random()-.5),45+10*(Math.random()-.5),80+10*(Math.random()-.5)],e.gradient.style.set(0),e.gradient.range.randomizeBetween(.7,.9);break;case 1:a=[360*Math.random(),40+5*(Math.random()-.5),90+10*(Math.random()-.5)],e.gradient.style.set(2),e.gradient.range.randomizeBetween(.35,1)}const s=c.Z.hcl2hex(...a),i=c.Z.hex2hsv(s);return e.color=s,e.hue.set(i[0]),e.saturation.set(i[1]),e.value.set(i[2]),e.gradient.active.set(!0),void(t.state.scheme.symbol=new f.Z(s))}if(Math.random()<.75)return;const i=e[Math.floor(Math.random()*e.length)],o=c.Z.hex2hsv(i.color);if(i.gradient.active.set(!0),o[2]<.15)i.gradient.active.set(!1);else if(o[2]>.95&&o[1]<.05)i.gradient.active.set(!1);else{if(o[2]>.9&&o[1]<.25)return i.gradient.style.set(2),void i.gradient.range.randomizeBetween(.35,.85);i.gradient.range.randomizeBetween(.25,.5)}2===i.gradient.style.value&&i.gradient.range.randomizeBetween(.15,.25)}};var w=a(4363),Z=a(3421),p=a(9777),y=a(6056);function M(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}const O=[[0,1,0],[15,1.5,0],[30,1.2,0],[45,1,.1],[60,1.1,.1],[70,1,.1],[75,1,.2],[90,1,.1],[105,.75,0],[120,.25,0],[135,.25,0],[150,.5,0],[165,.5,0],[180,.25,0],[195,.65,0],[210,.5,0],[225,.5,0],[240,.75,0],[255,.85,0],[270,.75,0],[285,.5,0],[300,.65,0],[315,.75,0],[330,1,0],[335,1,0],[360,1,0]],C={red:[20,15],orange:[50,20],yellow:[80,4],green:[140,50],blue:[230,40],purple:[295,10],violet:[330,35]};class z extends i.Z{constructor(t){super(Object.assign({chroma:new n.Z(0,2).randomizeWeightedRight(.6,1).ignoreOnSave(),contrast:new n.Z(0,1).randomizeBetween(.5,.75).ignoreOnSave(),brightness:new n.Z(-1,1).set(0).ignoreOnSave(),scheme:new s.Z},t)),M(this,"ids",["background","symbol","symbolContent","icon","name","nameShadow","nameWithShadow","divider","slogan"]),M(this,"gradientStyles",[[30,15,30],[90,30,30],[120,0,0],[60,-30,45]]),M(this,"savedColorScheme",null),null!==this.state.hue&&void 0!==this.state.hue||(this.state.hue=(0,y.Z)(["red","orange","yellow","green","blue","purple","violet","black"],[7,2,1,4,4,2,4,6]));const e=C[this.state.hue];this.state.hue=e?new v.Z((e[0]+(Math.random()-.5)*e[1]*2+360)%360).ignoreOnSave():new v.Z(this.state.hue).ignoreOnSave();const a=z.adjustFromHue(this.state.hue&&"string"!=typeof this.state.hue.value?this.state.hue.value:1);this.state.chroma.set(this.state.chroma.value+.35*(a[0]-1)),this.state.brightness.set(this.state.brightness.value+a[1]),this.ids.forEach((t=>{this.state[t]=new l,this.state.scheme[t]=new f.Z("#000")})),this.state.saved&&this.state.saved.scheme?(this.savedColorScheme=this.state.saved.scheme,this.addModifiers([u])):this.addModifiers([u,m,g.Z,b]),this.ids.forEach((t=>{const e=this.state[t],a=c.Z.hex2hsv(e.color);e.hue.set(a[0]),e.saturation.set(a[1]),e.value.set(a[2])}))}static adjustFromHue(t){const e=(0,p.Z)(t,0,360);let a=1,s=O[a],i=O[a-1];for(;e>s[0];)i=s,s=O[a++];const o=s[0]-i[0];return[i[1]+(e-i[0])/o*(s[1]-i[1]),i[2]+(e-i[0])/o*(s[2]-i[2])]}initialize(t){this.state.hasTextInsideSymbol=t.hasTextInsideSymbol,this.state.hasIcon=t.hasIcon,this.state.hasSymbol=t.hasSymbol,this.state.savedColorScheme=this.savedColorScheme,this.applyModifiers()}setColor(t,e){const a=this.state[t];let s=null;if(e instanceof Array){const t=this.state.contrast.value,a=this.state.chroma.value,i=this.state.brightness.value;s=c.Z.hcl2hex(e[0],e[1]*a,(e[2]-50)*(t+.5)+50+100*i)}else s=e;const i=c.Z.hex2hsv(s);a.hue.set(i[0]),a.saturation.set(i[1]),a.value.set(i[2]),a.color=s,this.state.scheme[t].set(s)}setGradient(t,e){this.state[t].gradient.copyAllFrom(e)}static getRandomPalette(){let{hue:t=null,hueFactor:e=.5,contrast:a=.75,chroma:s=1,brightness:i=0,colorLut:o=null,colorScheme:r=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const h=new n.Z(s),l=new n.Z(i);let d=t;if("string"==typeof t&&e){const a=C[t];d=new n.Z((a[0]+(e-.5)*a[1]*2+360)%360)}const c=new z({chroma:h,brightness:l,contrast:new n.Z(a),colorScheme:null===r?void 0:new n.Z(r),colorLut:null===o?void 0:new n.Z(o),hue:d instanceof n.Z?d.value:d,saved:{variation:0}});return c.applyModifiers(),c}update(){let{isMonotone:t=!1,hasNameShadow:e=!1,recreatedFromSavedState:a=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=w.Z;t?(this.state.background.color="#000",this.state.symbol.color="{{MONOTONE_COLOR}}",this.state.name.color="{{MONOTONE_COLOR}}",this.state.nameShadow.color="{{MONOTONE_COLOR}}",this.state.symbolContent.color="#000",this.state.divider.color="{{MONOTONE_COLOR}}",this.state.slogan.color="{{MONOTONE_COLOR}}"):(e&&(a||(this.state.nameShadow.color===this.state.nameWithShadow.color?this.setColor("name",this.state.background.color):this.setColor("name",this.state.nameWithShadow.color))),this.ids.forEach((t=>{const e=this.state[t],a={angle:e.gradient.angle.value};switch(Number(e.gradient.type.value)){case 0:s=w.Z;break;case 1:s=Z.Z,a.radius=e.gradient.radius.value}e.color=new s(Object.assign({active:e.gradient.active.value,hue:e.hue.value,saturation:e.saturation.value,color:c.Z.hsv2hex(e.hue.value,e.saturation.value,e.value.value),style:this.gradientStyles[Number(e.gradient.style.value)],range:e.gradient.range.value,reverse:e.gradient.reverse.value},a))})))}}},6817:(t,e,a)=>{a.d(e,{Z:()=>h}),a(5389);var s=a(6793),i=a(9732),o=a(6413);function n(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}const r={},h=class extends s.Z{constructor(t){super(Object.assign({},t)),n(this,"size",16),n(this,"data",null),n(this,"strength",1),n(this,"width",0),n(this,"height",0),n(this,"id","")}activate(t){t.state.colorLut||(t.state.colorLut=new i.Z([0,1,2,3,4]).weightedRandomize([4,1,1,1,1]).ignoreOnSave())}modify(t){const e=t.state.colorLut.value;if(0!==e){switch(e){case 1:this.saturation(.65),this.brightness(.975),this.contrast(.95);break;case 2:this.contrast(1.15),this.colorize("#ffce70",.075),this.saturation(1.15);break;case 3:this.saturation(.25),this.contrast(1.15),this.brightness(.975);break;case 4:this.saturation(.75),this.contrast(1.1),this.brightness(.975),this.colorize("#ec7357",.075)}t.ids.forEach((e=>{t.setColor(e,o.Z.rgb2hex(...this.transform(...o.Z.hex2rgb(t.state[e].color))))}))}}initData(){this.width=this.size**2,this.height=this.size;const t=1/(this.size-1)*255;this.data=new Uint8ClampedArray(this.width*this.height*4);let e=0;for(let a=0;a<this.size;a++)for(let s=0;s<this.size;s++)for(let i=0;i<this.size;i++)this.data[e++]=i*t,this.data[e++]=a*t,this.data[e++]=s*t,this.data[e++]=255}lerp(t,e,a){return t+(e-t)*a}colorize(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.addToCache("colorize",t,e,(()=>{const a=o.Z.hex2rgb(t);for(let t=0;t<this.data.length;t+=4)this.data[t]-=(this.data[t]-a[0])*e,this.data[t+1]-=(this.data[t+1]-a[1])*e,this.data[t+2]-=(this.data[t+2]-a[2])*e}))}multiply(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.addToCache("multiply",t,e,(()=>{const a=o.Z.hex2rgb(t),s=1/255*e;for(let t=0;t<this.data.length;t+=4)this.data[t]*=a[0]*s,this.data[t+1]*=a[1]*s,this.data[t+2]*=a[2]*s}))}overlay(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.addToCache("overlay",t,e,(()=>{const a=o.Z.hex2rgb(t),s=1/255*e;for(let t=0;t<this.data.length;t+=4)this.data[t]=this.data[t]>128?255-2*(255-a[0])*(255-this.data[t])*s:this.data[t]*a[0]*2*s,this.data[t+1]=this.data[t+1]>128?255-2*(255-a[1])*(255-this.data[t+1])*s:this.data[t+1]*a[1]*2*s,this.data[t+2]=this.data[t+2]>128?255-2*(255-a[2])*(255-this.data[t+2])*s:this.data[t+2]*a[2]*2*s}))}add(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.addToCache("add",t,e,(()=>{const a=o.Z.hex2rgb(t);for(let t=0;t<this.data.length;t+=4)this.data[t]+=a[0]*e,this.data[t+1]+=a[1]*e,this.data[t+2]+=a[2]*e}))}contrast(t){this.addToCache("contrast",t,(()=>{for(let e=0;e<this.data.length;e+=4)this.data[e]=(this.data[e]-128)*t+128,this.data[e+1]=(this.data[e+1]-128)*t+128,this.data[e+2]=(this.data[e+2]-128)*t+128}))}brightness(t){this.addToCache("brightness",t,(()=>{const e=t-1;for(let t=0;t<this.data.length;t+=4)this.data[t]+=255*e,this.data[t+1]+=255*e,this.data[t+2]+=255*e}))}makeGradient(t,e,a){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;const o=3*Math.floor(this.data.length/3*s),n=3*Math.floor(this.data.length/3*i);for(let s=o;s<n;s+=3){const i=(s-o)/(n-o);t[s]=(a[0]-e[0])*i+e[0],t[s+1]=(a[1]-e[1])*i+e[1],t[s+2]=(a[2]-e[2])*i+e[2]}}gradientMap(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.addToCache("gradientMap",t.reduce(((t,e)=>`${t}:${e.offset}-${e.stop}`),""),e,(()=>{const a=1-e,s=new Uint8ClampedArray(this.data.length/4*3);let i=1,n=0;for(let e=0;e<t.length-1;e++){const a=o.Z.hex2rgb(t[e].color),r=o.Z.hex2rgb(t[e+1].color),h=t[e].offset,l=t[e+1].offset;i=Math.min(h,i),n=Math.max(l,n),this.makeGradient(s,a,r,h,l)}if(i>0){const e=t[0].color;this.makeGradient(s,e,e,0,i)}if(n<1){const e=t[t.length-1].color;this.makeGradient(s,e,e,n,1)}const r=Math.floor(s.length/3)-1;for(let t=0;t<this.data.length;t+=4){const i=this.data[t],n=this.data[t+1],h=this.data[t+2],l=o.Z.rgb2hsl(i,n,h);this.data[t]=s[3*Math.floor(r*l[2])]*e+this.data[t]*a,this.data[t+1]=s[3*Math.floor(r*l[2])+1]*e+this.data[t+1]*a,this.data[t+2]=s[3*Math.floor(r*l[2])+2]*e+this.data[t+2]*a}}))}splitToning(t,e){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.addToCache("splitToning",t,e,a,(()=>{for(let s=0;s<this.data.length;s+=4){const i=this.data[s],n=this.data[s+1],r=this.data[s+2],h=o.Z.rgb2hsl(i,n,r)[2],l=h<.5?t.h:e.h,d=h<.5?t.s:e.s,c=(h<.5?1-2*h:2*(h-.5))*a,u=1-c,v=o.Z.hsl2rgb(l,d,h);this.data[s]=i*u+v[0]*c,this.data[s+1]=n*u+v[1]*c,this.data[s+2]=r*u+v[2]*c}}))}vibrance(t){this.addToCache("vibrance",t,(()=>{for(let e=0;e<this.data.length;e+=4){const a=Math.max(this.data[e],this.data[e+1],this.data[e+2]),s=(this.data[e]+this.data[e+1]+this.data[e+2])/3,i=2*Math.abs(a-s)/255*-t;this.data[e]+=(a-this.data[e])*i,this.data[e+1]+=(a-this.data[e+1])*i,this.data[e+2]+=(a-this.data[e+2])*i}}))}saturation(t){this.addToCache("saturation",t,(()=>{for(let e=0;e<this.data.length;e+=4){const a=o.Z.rgb2hsl(this.data[e],this.data[e+1],this.data[e+2]);a[1]=Math.max(0,Math.min(a[1]*t,1));const s=o.Z.hsl2rgb(a[0],a[1],a[2]);this.data[e]=s[0],this.data[e+1]=s[1],this.data[e+2]=s[2]}}))}adjust(t,e,a){this.addToCache("adjust",t,e,a,(()=>{const s=((t.max||255)-t.min)/255,i=((e.max||255)-e.min)/255,o=((a.max||255)-a.min)/255;for(let n=0;n<this.data.length;n+=4)this.data[n]=this.data[n]*s+t.min,this.data[n+1]=this.data[n+1]*i+e.min,this.data[n+2]=this.data[n+2]*o+a.min}))}adjustGamma(t){this.addToCache("adjustGamma",t,(()=>{for(let e=0;e<this.data.length;e+=4)this.data[e]=Math.pow(this.data[e],1/t),this.data[e+1]=Math.pow(this.data[e+1],1/t),this.data[e+2]=Math.pow(this.data[e+2],1/t)}))}adjustCurves(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.addToCache("adjustCurves",t.join("-"),(()=>{t.map((t=>new class{constructor(t){var e;if(null,(e="points")in this?Object.defineProperty(this,e,{value:null,enumerable:!0,configurable:!0,writable:!0}):this[e]=null,"string"==typeof t){const e=t.split(",");this.points=[];for(let t=0;t<e.length;t+=2)this.points.push([Number(e[t]),Number(e[t+1])])}const a=this.points.length-1;0===this.points[0][0]&&0===this.points[0][1]&&1===this.points[a][0]&&1===this.points[a][1]||(this.points.unshift([0,0]),this.points.push([1,1])),this.order=this.points.length,this.cardinality=this.points[0].length}getPoint(t){const e=this.order-1;let a=this.newVector();for(let s=0;s<=e;++s)a=this.vectorAdd(a,this.vectorMultiply(this.binT(s,e,t),this.points[s]));return a}binT(t,e,a){return this.binom(e,t)*a**t*(1-a)**(e-t)}factorial(t){return t<=1?1:t*this.factorial(t-1)}binom(t,e){return this.factorial(t)/(this.factorial(e)*this.factorial(t-e))}vectorMultiply(t,e){return e.map((e=>e*t))}vectorAdd(t,e){return t.map(((t,a)=>t+e[a]))}newVector(){const t=[];for(let e=0;e<this.cardinality;++e)t.push(0);return t}}(t))).forEach(((t,e)=>{for(let a=e;a<this.data.length;a+=4)this.data[a]=255*t.getPoint(this.data[a]/255)[1]}))}))}transform(t,e,a){if(!this.data)return[t,e,a];const s=Math.min(Math.floor(a/255*this.size),this.size-1),i=Math.min(s+1,this.size-1),o=a/255*this.size%1,n=Math.min(Math.floor(t/255*this.size),this.size-1),r=Math.min(n+1,this.size-1),h=t/255*this.size%1,l=Math.min(Math.floor(e/255*this.size),this.size-1),d=Math.min(l+1,this.size-1),c=e/255*this.size%1,u=4*Math.floor(s*this.size+n+l*this.width),v=4*Math.floor(i*this.size+r+d*this.width);return[Math.floor(this.lerp(this.data[u+0],this.data[v+0],h)),Math.floor(this.lerp(this.data[u+1],this.data[v+1],c)),Math.floor(this.lerp(this.data[u+2],this.data[v+2],o))]}addToCache(t){this.id||(this.id=this.size,this.initData());for(var e=arguments.length,a=new Array(e>1?e-1:0),s=1;s<e;s++)a[s-1]=arguments[s];this.id=`${this.id}|${t}:${a.slice(0,a.length-1).join(",")}`;const i=a[a.length-1];r[this.id]?this.data=r[this.id]:(i(),r[this.id]=new Uint8ClampedArray(this.data))}}}}]);
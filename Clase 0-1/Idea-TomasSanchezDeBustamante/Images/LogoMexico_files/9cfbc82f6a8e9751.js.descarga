/*! For license information please see 9cfbc82f6a8e9751.js.LICENSE.txt */
"use strict";!function(t,a){"object"==typeof exports&&"object"==typeof module?module.exports=a():"function"==typeof define&&define.amd?define([],a):"object"==typeof exports?exports.creator=a():t.creator=a()}(self,(function(){return(self.webpackChunk_name_=self.webpackChunk_name_||[]).push([[493],{8110:(t,a,i)=>{i.r(a),i.d(a,{default:()=>$});var s=i(5149),e=i(1221),o=i(2736),n=i(8291),l=i(1115),r=i(3202),c=i(2842);function h(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}var d=i(8651),u=i(7723),v=i(4230),p=i(468);function g(t,a,i){return a in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}const $=new class{constructor(){g(this,"inputManager",null),g(this,"creator",null),g(this,"translations",{}),e.Z.ready((async()=>{const t=window.mybrandnewlogo,a=t.logo;this.translations=t.translations,await this.start({id:a.id,state:a.state});const i=v.Z.$modal.length?v.Z.$modal:(0,e.Z)(".js-modal-register");a.purchaseIntent&&(i.length?i.hasEvent("open")&&i.trigger("open"):p.Z.captureError("no modal to open"))}))}async start(){let{id:t=null,state:a=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.inputManager=new u.Z(document.body),this.creator=new o.Z("logo",{controls:".js-logo-controls",inputManager:this.inputManager,translations:this.translations,enableMockups:!0}),await this.creator.create({id:unescape(t),savedState:JSON.parse(unescape(a))}),v.Z.setCreator(this.creator),this.inputManager.showMappings&&d.Z.add(this,(()=>(this.inputManager.drawMappings(),!0))),this.creator.variations=new class{constructor(){let{creator:t=null,callback:a=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(this,"LOGOS_PER_PAGE",12),h(this,"div",null),h(this,"creator",null),h(this,"creators",[]),h(this,"$content",null),h(this,"$button",null),h(this,"$controls",null),h(this,"callback",null),h(this,"variations",null),h(this,"$variationList",null),h(this,"$setList",null),h(this,"isAddingVariations",!1),h(this,"$variationAll",null),h(this,"$variationFont",null),h(this,"$variationColor",null),h(this,"$variationLayout",null),this.creator=t,this.callback=a,this.$content=(0,e.Z)(".js-variation-selector"),this.$variationList=(0,e.Z)(".js-variation-selector__items"),this.$variationAll=(0,e.Z)(".js-variation-selector-style-all"),this.$variationFont=(0,e.Z)(".js-variation-selector-style-font"),this.$variationColor=(0,e.Z)(".js-variation-selector-style-color"),this.$variationLayout=(0,e.Z)(".js-variation-selector-style-layout"),this.$close=(0,e.Z)(".js-variation-selector__close")}activate(){this.$variationAll.on("click",(()=>{s.Z.closeMenu(),this.updateVariations("keep-icon")})),this.$variationFont.on("click",(()=>{s.Z.closeMenu(),this.updateVariations("font")})),this.$variationColor.on("click",(()=>{s.Z.closeMenu(),this.updateVariations("color")})),this.$variationLayout.on("click",(()=>{s.Z.closeMenu(),this.updateVariations("layout")})),this.$close.on("click",(t=>{t.stopPropagation(),t.preventDefault(),this.deactivate(),this.hide()})),this.onUpdate()}deactivate(){[this.$variationAll,this.$variationLayout,this.$variationColor,this.$variationFont,this.$close].forEach((t=>{t&&t.off()}))}onUpdate(){}async show(){(0,e.Z)(".js-variation-selector-content").addClass("active"),this.$content.addClass("active"),s.Z.setNavigation(this.$content,this.$content.find(".js-modal-navigation")),await n.Z.show(),this.creators.length?this.creators.forEach((t=>{t.onResize()})):await this.addVariations("keep-icon")}clear(){for(const t of this.creators)t.destroy();this.creators=[],this.$variationList.empty()}updateVariations(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.isAddingVariations||(this.clear(),this.addVariations(t))}async addVariations(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.$content.removeClass("interactive"),this.$close.addClass("disabled"),this.isAddingVariations=!0;const a=[];for(let $=0;$<this.LOGOS_PER_PAGE;$++){var i,s,n,h,d,u,v,p,g;const f=(0,e.Z)("<div>").addClass("b-logo-wrap").appendTo(this.$variationList),Z=(0,e.Z)("<div>").addClass("b-logo-card").attribute("id",`logo-${(0,l.Z)()}`).html('\n<div class="b-logo-card__loading">\n\t<div class="b-logo-card__loading-icon"></div>\n</div>\n').appendTo(f),b=new o.Z(Z.attribute("id"),{useCanvas:!0});this.creators.push(b),Z.on("click",(t=>{t.preventDefault(),t.stopPropagation(),this.activateVariation(b.logo.getState())}));const y=this.creator.logo.getState({texts:!0}),w={text:(0,c.Z)(null==y||null===(i=y.state)||void 0===i||null===(s=i.elements)||void 0===s||null===(n=s.name)||void 0===n?void 0:n.text),sloganText:(0,c.Z)(null==y||null===(h=y.state)||void 0===h||null===(d=h.elements)||void 0===d||null===(u=d.slogan)||void 0===u?void 0:u.text),symbolText:(0,c.Z)(null==y||null===(v=y.state)||void 0===v||null===(p=v.elements)||void 0===p||null===(g=p.symbol)||void 0===g?void 0:g.text),variation:0===$?null:t,savedState:t||0===$?y:null};a.push((async()=>{await b.create(w),await r.Z.wait()}))}for(const t of a)await t();this.isAddingVariations=!1,this.$content.addClass("interactive"),this.$close.removeClass("disabled")}async hide(){this.$content.removeClass("active"),await n.Z.hide(),(0,e.Z)(".js-variation-selector-content").removeClass("active"),s.Z.unsetNavigation()}async activateVariation(t){this.deactivate(),await this.creator.recreate({state:t}),this.callback&&this.callback(t),await this.hide()}}({creator:this.creator,callback:t=>{}})}}}},t=>{var a=a=>t(t.s=a);return t.O(0,[130,851,466,242,139,230,710,893],(()=>(a(3407),a(8110)))),t.O()}])}));
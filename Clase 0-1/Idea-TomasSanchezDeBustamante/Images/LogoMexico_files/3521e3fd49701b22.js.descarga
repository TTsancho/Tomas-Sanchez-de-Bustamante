"use strict";(self.webpackChunk_name_=self.webpackChunk_name_||[]).push([[710],{6397:(t,i,a)=>{a.d(i,{Z:()=>o});var e=a(1221);function s(t,i,a){return i in t?Object.defineProperty(t,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[i]=a,t}const o=class{constructor(){let{attribute:t=null,creator:i=null,hasLabels:a=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(this,"div",null),s(this,"creator",null),s(this,"attribute",null),s(this,"control",null),s(this,"hasLabels",!0),s(this,"onUpdateCallback",null),s(this,"onClickCallback",null),s(this,"isReversed",!1),this.creator=i,this.attribute=t.attribute,this.onUpdateCallback=t.onUpdate,this.onClickCallback=t.onClick,this.hasLabels=a,this.isReversed=Boolean(t.isReversed);const o=(0,e.Z)("<div>").addClass("c-bool");this.control=(0,e.Z)("<div>").addClass("c-bool__control").appendTo(o),(0,e.Z)("<div>").addClass("c-bool__indicator").appendTo(this.control),this.hasLabels&&(this.state=(0,e.Z)("<div>").addClass("c-bool__label").appendTo(o)),this.div=o[0]}activate(){this.control.on("click",(()=>{this.onUpdate(),this.onClickCallback&&this.onClickCallback(this.attribute.value)})),this.control.toggleClass("active",this.attribute.value),this.updateUI()}deactivate(){this.control.off("click")}onUpdate(){const t=!this.attribute.value;this.attribute.set(t),this.updateState()}updateUI(){this.updateState()}updateState(){let t=this.attribute.value;this.isReversed&&(t=!t),this.control.toggleClass("active",t),this.hasLabels&&this.state.text(t?this.attribute.labelTrue:this.attribute.labelFalse),this.onUpdateCallback&&this.onUpdateCallback(this.attribute.value),this.creator.draw()}}},8685:(t,i,a)=>{a.d(i,{Z:()=>l});var e=a(1221),s=a(6397),o=a(8843);function h(t,i,a){return i in t?Object.defineProperty(t,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[i]=a,t}const l=class{constructor(){let{creator:t=null,data:i=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(this,"div",null),h(this,"bool",null),h(this,"slider",null),this.bool=new s.Z({creator:t,attribute:{attribute:i.bool,onUpdate:()=>{this.onUpdate(),i.onBoolUpdate&&i.onBoolUpdate(i.bool.value)}},hasLabels:!1}),this.slider=new o.Z({creator:t,attribute:{attribute:i.slider,onUpdate:i.onUpdate}});const a=(0,e.Z)("<div>").addClass("c-bool-slider");(0,e.Z)(this.bool.div).appendTo(a),(0,e.Z)(this.slider.div).appendTo(a),this.div=a[0]}onUpdateCallback(){this.bool.onUpdateCallback&&this.bool.onUpdateCallback(this.bool.attribute.value),this.slider.setActive(this.bool.attribute.value)}onUpdate(){this.slider.setActive(this.bool.attribute.value)}activate(){this.bool.activate(),this.bool.attribute.value&&this.slider.activate()}deactivate(){this.bool.deactivate&&this.bool.deactivate(),this.slider.deactivate&&this.slider.deactivate()}}},6509:(t,i,a)=>{a.d(i,{Z:()=>o});var e=a(1221);function s(t,i,a){return i in t?Object.defineProperty(t,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[i]=a,t}const o=class{constructor(){let{attribute:t=null,creator:i=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(this,"div",null),s(this,"creator",null),s(this,"attribute",null),s(this,"values",[]),s(this,"onUpdateCallback",null),this.creator=i,this.attribute=t.attribute,this.onUpdateCallback=t.onUpdate,this.$values=[];const a=(0,e.Z)("<div>").addClass("c-option");this.attribute.options.forEach(((t,i)=>{const s=(0,e.Z)("<div>").addClass("c-option__value").text(this.attribute.optionLabels[i]).appendTo(a);this.$values.push(s)})),this.div=a[0]}activate(){this.$values.forEach(((t,i)=>{t.on("click",(()=>this.onUpdate(i)))})),this.updateUI()}deactivate(){this.$values.forEach((t=>t.off("click")))}updateUI(){this.onUpdate(this.attribute.index)}onUpdate(t){this.$values.forEach(((i,a)=>{i.toggleClass("active",a===t)})),this.attribute.set(t),this.onUpdateCallback&&this.onUpdateCallback(t),this.creator&&this.creator.draw()}}},1458:(t,i,a)=>{a.d(i,{Z:()=>h});var e=a(1221),s=a(9566);function o(t,i,a){return i in t?Object.defineProperty(t,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[i]=a,t}const h=class{constructor(){let{data:t=null,creator:i=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,"div",null),o(this,"creator",null),o(this,"attribute",null),o(this,"values",[]),o(this,"onUpdateCallback",null),this.creator=i,this.attribute=t.attribute,this.onUpdateCallback=t.onUpdate;const a=t.classPrefix||"",h=(0,e.Z)("<div>").addClass("c-shape");this.attribute.options.forEach(((t,i)=>{const o=(0,e.Z)("<div>").addClass("c-shape__value").on("click",(()=>this.onUpdate(i))).appendTo(h);(0,e.Z)("<div>").addClass("icon").addClass(`icon-${a?`${a}-`:""}${(0,s.Z)(this.attribute.optionLabels[i].replace(/ /g,"-"))}`).appendTo(o),this.values.push(o)})),this.div=h[0]}activate(){this.onUpdate(this.attribute.value)}onUpdate(t){this.values.forEach(((i,a)=>{i.toggleClass("active",a===t)})),this.attribute.set(t),this.onUpdateCallback&&this.onUpdateCallback(t),this.creator.draw()}}},8843:(t,i,a)=>{a.d(i,{Z:()=>l});var e=a(1221),s=a(9777),o=a(5299);function h(t,i,a){return i in t?Object.defineProperty(t,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[i]=a,t}const l=class{constructor(){let{attribute:t=null,creator:i=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(this,"div",null),h(this,"creator",null),h(this,"attribute",null),h(this,"thumb",null),h(this,"value",null),h(this,"transform",null),h(this,"margin",16),h(this,"onUpdateCallback",null),h(this,"onDragStopCallback",null),h(this,"onWindowTouchListener",null),h(this,"isActive",!0),this.creator=i,this.attribute=t.attribute,this.onUpdateCallback=t.onUpdate,this.onDragStopCallback=t.onDragStop,this.transform=t.transform?t.transform:t=>t;const a=(0,e.Z)("<div>").addClass("c-slider").addClass("active");(0,e.Z)("<div>").addClass("c-slider__track").appendTo(a),this.thumb=(0,e.Z)("<div>").addClass("c-slider__thumb").appendTo(a),this.value=(0,e.Z)("<div>").addClass("c-slider__value").appendTo(this.thumb),this.div=a[0]}onDrag(t){t.originalEvent.preventDefault();const i=(0,s.Z)((t.relativePoint.x-this.margin)/(t.mapping.boundingBox.w-2*this.margin),0,1);this.onUpdate((this.attribute.max-this.attribute.min)*i+this.attribute.min),this.updateThumb(i)}activate(){this.map=this.creator.inputManager.map({element:this.div,margin:new o.Z(0,this.margin),onDown:t=>{this.onDrag(t),this.value.addClass("active"),this.preventWindowScroll()},onDrag:t=>this.onDrag(t),onDragStop:()=>this.onDragStop(),onUp:()=>{this.onDragStop(),this.onCancel()},onOut:()=>this.onCancel()},this),this.onWindowTouchListener=t=>this.onWindowTouch(t),this.updateUI()}updateUI(){this.updateThumb(this.transform((this.attribute.value-this.attribute.min)/(this.attribute.max-this.attribute.min)))}preventWindowScroll(){(0,e.Z)(window).on("touchstart",this.onWindowTouchListener,{passive:!1}),(0,e.Z)(window).on("touchmove",this.onWindowTouchListener,{passive:!1})}disablePreventWindowScroll(){(0,e.Z)(window).off("touchstart",this.onWindowTouchListener),(0,e.Z)(window).off("touchmove",this.onWindowTouchListener)}onWindowTouch(t){this.creator.inputManager.isDragging&&t.preventDefault()}onDragStop(){this.onDragStopCallback&&this.onDragStopCallback(this.attribute.value)}onCancel(){this.value.removeClass("active"),this.disablePreventWindowScroll()}deactivate(){this.creator.inputManager.unmap(this.map),this.disablePreventWindowScroll()}onUpdate(t){const i=this.attribute.value;this.attribute.set(this.transform(t)),this.attribute.value!==i&&(this.onUpdateCallback&&this.onUpdateCallback(this.attribute.value),this.creator.draw())}setActive(t){t!==this.isActive&&(this.isActive=t,t?this.activate():this.deactivate(),(0,e.Z)(this.div).toggleClass("active",t))}updateThumb(t){this.thumb.css({left:`${Number(100*t).toFixed(3)}%`}),this.attribute.labelUsesRealValue?(0,e.Z)(this.value).text(this.attribute.value):(0,e.Z)(this.value).text(Math.round((this.attribute.value-this.attribute.min)/(this.attribute.max-this.attribute.min)*100))}}},4074:(t,i,a)=>{a.d(i,{Z:()=>l});var e=a(6413),s=a(1221),o=a(9777);function h(t,i,a){return i in t?Object.defineProperty(t,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[i]=a,t}const l=class{constructor(){let{creator:t=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(this,"maxSwatchColors",16),h(this,"creator",null),h(this,"$picker",null),h(this,"$swatch",null),h(this,"$sv",null),h(this,"$h",null),h(this,"$value",null),h(this,"$button",null),h(this,"$swatches",null),h(this,"svWidth",0),h(this,"svHeight",0),h(this,"hWidth",0),h(this,"hHeight",0),h(this,"swatchColors",[]),h(this,"canvasSV",null),h(this,"canvasH",null),h(this,"$svTarget",null),h(this,"$hTarget",null),h(this,"hex","#000"),h(this,"hue",0),h(this,"saturation",0),h(this,"value",0),h(this,"startX",0),h(this,"startY",0),h(this,"map",null),h(this,"mapSV",null),h(this,"mapH",null),h(this,"hasBeenDragged",!1),h(this,"hasBeenShown",!1),this.creator=t,this.$picker=(0,s.Z)(".js-color-picker"),this.$swatch=(0,s.Z)(".js-color-picker__swatch"),this.$swatches=(0,s.Z)(".js-color-picker__swatches"),this.$sv=(0,s.Z)(".js-color-picker__sv"),this.$h=(0,s.Z)(".js-color-picker__h"),this.$value=(0,s.Z)(".js-color-picker__value"),this.$button=(0,s.Z)(".js-color-picker__button"),this.$svTarget=(0,s.Z)(".js-color-picker__sv-target"),this.$hTarget=(0,s.Z)(".js-color-picker__h-target"),this.canvasSV=this.$sv[0],this.canvasH=this.$h[0],this.$button.on(["click","touchstart"],(t=>{t.stopPropagation(),t.preventDefault(),this.hide()}))}enableInteraction(){this.$picker.on("mousedown",(t=>{t.preventDefault()})).on("touchstart",(t=>{t.preventDefault()})),this.$value.on("mousedown",(t=>t.stopPropagation())).on("touchstart",(t=>t.stopPropagation())).on("input",(()=>{this.onUpdate&&this.onUpdate(`#${this.$value.value()}`)})),this.map=this.creator.inputManager.map({element:this.$picker[0],onDown:t=>{t.originalEvent.preventDefault()},onMove:()=>{this.creator.inputManager.checkOnMove=!1},onDragStart:t=>this.onDragStart(t),onDrag:t=>this.onDrag(t),z:9},this),this.mapSV=this.creator.inputManager.map({element:this.canvasSV,onDown:t=>{t.originalEvent.preventDefault(),this.onDragSV(t)},onDrag:t=>this.onDragSV(t),z:10},this),this.mapH=this.creator.inputManager.map({element:this.canvasH,onDown:t=>{t.originalEvent.preventDefault(),this.onDragH(t)},onDrag:t=>this.onDragH(t),z:10},this)}disableInteraction(){this.creator.inputManager.unmap(this.map),this.creator.inputManager.unmap(this.mapSV),this.creator.inputManager.unmap(this.mapH),this.$picker.off(),this.$value.off()}onDragStart(){this.hasBeenDragged=!0;const t=this.$picker.offset();this.startX=t.left,this.startY=t.top}position(t,i){this.$picker.css({left:`${t}px`,top:`${i}px`}),this.creator.inputManager.resizeMap(this.map),this.creator.inputManager.resizeMap(this.mapSV),this.creator.inputManager.resizeMap(this.mapH)}onDrag(t){this.position(this.startX+t.delta.x,this.startY+t.delta.y)}onDragSV(t){const i=t.relativePoint.x,a=t.relativePoint.y;this.saturation=(0,o.Z)(i/this.svWidth,0,1),this.value=(0,o.Z)(1-a/this.svHeight,0,1),this.update(e.Z.hsv2hex(this.hue,this.saturation,this.value))}onDragH(t){t.relativePoint.x;const i=t.relativePoint.y;this.hue=(0,o.Z)(1-i/this.hHeight,0,1),this.update(e.Z.hsv2hex(this.hue,this.saturation,this.value))}show(t,i){this.hasBeenShown=!0,this.onUpdate=i,this.enableInteraction(),this.onResize(),this.$picker.addClass("active");const a=e.Z.hex2hsv(t);this.hue=a[0],this.saturation=a[1],this.value=a[2],this.update(t)}addCurrentColorToSwatches(){const t=e.Z.hsv2hex(this.hue,this.saturation,this.value),i=e.Z.hex2rgb(t);this.swatchColors.some((t=>e.Z.hex2rgb(t).reduce(((t,a,e)=>t+Math.abs(a-i[e])),0)<12))||this.swatchColors.unshift(t),this.swatchColors=this.swatchColors.slice(0,Math.min(this.swatchColors.length,this.maxSwatchColors)),this.updateSwatchColors()}setSwatchColors(t){this.swatchColors=t.slice(),this.updateSwatchColors()}updateSwatchColors(){this.$swatches.empty();for(const t of this.swatchColors)(0,s.Z)("<div>").addClass("c-color-picker__swatch").css({backgroundColor:t}).on("click",(()=>{const i=e.Z.hex2hsv(t);this.hue=i[0],this.saturation=i[1],this.value=i[2],this.update(t)})).appendTo(this.$swatches)}hide(){this.disableInteraction(),this.onUpdate=null,this.$picker.removeClass("active"),this.hasBeenShown&&this.addCurrentColorToSwatches()}onResize(){const t=window.devicePixelRatio||1;this.svWidth=this.$sv.width(),this.svHeight=this.$sv.height(),this.hWidth=this.$h.width(),this.hHeight=this.$h.height(),this.canvasSV.width=this.svWidth*t,this.canvasSV.height=this.svHeight*t,this.canvasH.width=this.hWidth*t,this.canvasH.height=this.hHeight*t;const i=this.canvasH.getContext("2d"),a=i.createLinearGradient(0,0,0,this.canvasH.height);a.addColorStop(0,"#f00"),a.addColorStop(.17,"#f0f"),a.addColorStop(.34,"#00f"),a.addColorStop(.51,"#0ff"),a.addColorStop(.68,"#0f0"),a.addColorStop(.85,"#ff0"),a.addColorStop(1,"#f00"),i.fillStyle=a,i.fillRect(0,0,this.canvasH.width,this.canvasH.height)}isValidHex(t){return/#[a-f\d]{3}/.test(t)||/#[a-f\d]{6}/.test(t)}update(t){if(!this.isValidHex(t))return;this.$swatch.css({backgroundColor:t}),this.$value.value(t.replace("#",""));const i=this.canvasSV.getContext("2d"),a=this.canvasSV.width,s=this.canvasSV.height;i.fillStyle=e.Z.hsv2hex(this.hue,1,1),i.fillRect(0,0,a,s);const o=i.createLinearGradient(0,0,a,0);o.addColorStop(0,"rgba(255,255,255,1)"),o.addColorStop(1,"rgba(255,255,255,0)"),i.fillStyle=o,i.fillRect(0,0,a,s);const h=i.createLinearGradient(0,0,0,s);h.addColorStop(0,"rgba(0,0,0,0)"),h.addColorStop(1,"rgba(0,0,0,1)"),i.fillStyle=h,i.fillRect(0,0,a,s),this.$svTarget.css({left:this.saturation*this.svWidth+"px",top:(1-this.value)*this.svHeight+"px"}),this.$hTarget.css({top:(1-this.hue)*this.hHeight+"px"}),this.onUpdate&&this.onUpdate(t)}}},5256:(t,i,a)=>{a.d(i,{zG:()=>s,AN:()=>o,YV:()=>e});const e=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return t?`${Number(t.toFixed(i))}`:"0"},s=t=>i=>e(i,t),o=t=>i=>function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return t?Number(t.toFixed(i)):0}(i,t)},9566:(t,i,a)=>{function e(t){return t.replace(/([A-Z])/g,(t=>`-${t.toLowerCase()}`))}a.d(i,{Z:()=>e})},8291:(t,i,a)=>{a.d(i,{Z:()=>h});var e=a(1221),s=a(2012),o=a(9007);const h=new class{constructor(){var t;(t="$overlay")in this?Object.defineProperty(this,t,{value:null,enumerable:!0,configurable:!0,writable:!0}):this[t]=null,this.$overlay=(0,e.Z)(".js-overlay")}show(){return this.$overlay.on(["mousedown","mouseup","mousemove","mouseout","touchstart","touchmove","touchend","touchcancel"],(t=>{t.stopPropagation()})),new Promise((t=>{this.$overlay.addClass("active"),new o.Z((t=>{this.$overlay.css({opacity:t.value})}),.35).easing(s.Xt.OUT_LONG).onComplete((()=>{(0,e.Z)("body").addClass("has-overlay"),t()})).start()}))}hide(){return(0,e.Z)("body").removeClass("has-overlay"),this.$overlay.off(["mousedown","mouseup","mousemove","mouseout","touchstart","touchmove","touchend","touchcancel"]),new Promise((t=>{new o.Z((t=>{this.$overlay.css({opacity:1-t.value})}),.35).easing(s.Xt.OUT_LONG).onComplete((()=>{this.$overlay.removeClass("active"),t()})).start()}))}}}}]);